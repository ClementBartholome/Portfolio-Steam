{"ast":null,"code":"import _slicedToArray from\"C:/Users/Cl\\xE9ment Bartholom\\xE9/Desktop/Projets OC/portfolio-v3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect}from\"react\";import projectsData from\"../data/projectsData\";export default function useCarrousel(images){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentImageIndex=_useState2[0],setCurrentImageIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedProject=_useState6[0],setSelectedProject=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),selectedThumbnailIndex=_useState8[0],setSelectedThumbnailIndex=_useState8[1];var _useState9=useState(-1),_useState10=_slicedToArray(_useState9,2),hoverIndex=_useState10[0],setHoverIndex=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),touchStartX=_useState12[0],setTouchStartX=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),touchMoveX=_useState14[0],setTouchMoveX=_useState14[1];var carrouselImageRef=useRef(null);var carrouselContainerRef=useRef(null);function imageSize(){var carrouselImage=carrouselImageRef.current;if(!carrouselImage){return 0;}return carrouselImage.width;}function previousImage(){setCurrentImageIndex(function(currentIndex){return currentIndex===0?images.length-1:currentIndex-1;});setSelectedThumbnailIndex(function(currentIndex){return currentIndex===0?images.length-1:currentIndex-1;});}function nextImage(){setCurrentImageIndex(function(currentIndex){return currentIndex===images.length-1?0:currentIndex+1;});setSelectedThumbnailIndex(function(currentIndex){return currentIndex===images.length-1?0:currentIndex+1;});}function handleCarrouselImageClick(index){setIsModalOpen(true);setSelectedProject(projectsData[index]);}function handleThumbnailClick(index){setCurrentImageIndex(index);setSelectedThumbnailIndex(index);}function closeModal(){setIsModalOpen(false);}function handleMouseEnter(index){setHoverIndex(index);}function handleMouseLeave(){setHoverIndex(-1);}useEffect(function(){var handleOutsideClick=function handleOutsideClick(e){if(isModalOpen){if(!e.target.closest(\"[data-modal]\")){closeModal();}}};document.addEventListener(\"mousedown\",handleOutsideClick);return function(){document.removeEventListener(\"mousedown\",handleOutsideClick);};},[isModalOpen]);function handleTouchStart(e){setTouchStartX(e.touches[0].clientX);setTouchMoveX(0);}function handleTouchMove(e){setTouchMoveX(e.touches[0].clientX-touchStartX);}function handleTouchEnd(){var threshold=50;// threshold for changing slide\nif(touchMoveX>threshold){previousImage();}else if(touchMoveX<-threshold){nextImage();}setTouchStartX(0);setTouchMoveX(0);}var transformX=-currentImageIndex*imageSize()+touchMoveX;return{currentImageIndex:currentImageIndex,isModalOpen:isModalOpen,selectedProject:selectedProject,selectedThumbnailIndex:selectedThumbnailIndex,hoverIndex:hoverIndex,touchStartX:touchStartX,touchMoveX:touchMoveX,carrouselImageRef:carrouselImageRef,carrouselContainerRef:carrouselContainerRef,handleTouchStart:handleTouchStart,handleTouchMove:handleTouchMove,handleTouchEnd:handleTouchEnd,transformX:transformX,handleMouseEnter:handleMouseEnter,handleMouseLeave:handleMouseLeave,imageSize:imageSize,previousImage:previousImage,nextImage:nextImage,handleCarrouselImageClick:handleCarrouselImageClick,handleThumbnailClick:handleThumbnailClick,closeModal:closeModal};}","map":{"version":3,"names":["useState","useRef","useEffect","projectsData","useCarrousel","images","_useState","_useState2","_slicedToArray","currentImageIndex","setCurrentImageIndex","_useState3","_useState4","isModalOpen","setIsModalOpen","_useState5","_useState6","selectedProject","setSelectedProject","_useState7","_useState8","selectedThumbnailIndex","setSelectedThumbnailIndex","_useState9","_useState10","hoverIndex","setHoverIndex","_useState11","_useState12","touchStartX","setTouchStartX","_useState13","_useState14","touchMoveX","setTouchMoveX","carrouselImageRef","carrouselContainerRef","imageSize","carrouselImage","current","width","previousImage","currentIndex","length","nextImage","handleCarrouselImageClick","index","handleThumbnailClick","closeModal","handleMouseEnter","handleMouseLeave","handleOutsideClick","e","target","closest","document","addEventListener","removeEventListener","handleTouchStart","touches","clientX","handleTouchMove","handleTouchEnd","threshold","transformX"],"sources":["C:/Users/Clément Bartholomé/Desktop/Projets OC/portfolio-v3/src/hooks/useCarrousel.jsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport projectsData from \"../data/projectsData\";\r\n\r\nexport default function useCarrousel(images) {\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [selectedThumbnailIndex, setSelectedThumbnailIndex] = useState(0);\r\n  const [hoverIndex, setHoverIndex] = useState(-1);\r\n  const [touchStartX, setTouchStartX] = useState(0);\r\n  const [touchMoveX, setTouchMoveX] = useState(0);\r\n\r\n  const carrouselImageRef = useRef(null);\r\n  const carrouselContainerRef = useRef(null);\r\n\r\n  function imageSize() {\r\n    const carrouselImage = carrouselImageRef.current;\r\n\r\n    if (!carrouselImage) {\r\n      return 0;\r\n    }\r\n\r\n    return carrouselImage.width;\r\n  }\r\n\r\n  function previousImage() {\r\n    setCurrentImageIndex((currentIndex) =>\r\n      currentIndex === 0 ? images.length - 1 : currentIndex - 1\r\n    );\r\n    setSelectedThumbnailIndex((currentIndex) =>\r\n      currentIndex === 0 ? images.length - 1 : currentIndex - 1\r\n    );\r\n  }\r\n\r\n  function nextImage() {\r\n    setCurrentImageIndex((currentIndex) =>\r\n      currentIndex === images.length - 1 ? 0 : currentIndex + 1\r\n    );\r\n    setSelectedThumbnailIndex((currentIndex) =>\r\n      currentIndex === images.length - 1 ? 0 : currentIndex + 1\r\n    );\r\n  }\r\n\r\n  function handleCarrouselImageClick(index) {\r\n    setIsModalOpen(true);\r\n    setSelectedProject(projectsData[index]);\r\n  }\r\n\r\n  function handleThumbnailClick(index) {\r\n    setCurrentImageIndex(index);\r\n    setSelectedThumbnailIndex(index);\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsModalOpen(false);\r\n  }\r\n\r\n  function handleMouseEnter(index) {\r\n    setHoverIndex(index);\r\n  }\r\n\r\n  function handleMouseLeave() {\r\n    setHoverIndex(-1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = (e) => {\r\n      if (isModalOpen) {\r\n        if (!e.target.closest(\"[data-modal]\")) {\r\n          closeModal();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleOutsideClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\r\n    };\r\n  }, [isModalOpen]);\r\n\r\n  function handleTouchStart(e) {\r\n    setTouchStartX(e.touches[0].clientX);\r\n    setTouchMoveX(0);\r\n  }\r\n\r\n  function handleTouchMove(e) {\r\n    setTouchMoveX(e.touches[0].clientX - touchStartX);\r\n  }\r\n\r\n  function handleTouchEnd() {\r\n    const threshold = 50; // threshold for changing slide\r\n    if (touchMoveX > threshold) {\r\n      previousImage();\r\n    } else if (touchMoveX < -threshold) {\r\n      nextImage();\r\n    }\r\n    setTouchStartX(0);\r\n    setTouchMoveX(0);\r\n  }\r\n\r\n  const transformX = -currentImageIndex * imageSize() + touchMoveX;\r\n\r\n  return {\r\n    currentImageIndex,\r\n    isModalOpen,\r\n    selectedProject,\r\n    selectedThumbnailIndex,\r\n    hoverIndex,\r\n    touchStartX,\r\n    touchMoveX,\r\n    carrouselImageRef,\r\n    carrouselContainerRef,\r\n    handleTouchStart,\r\n    handleTouchMove,\r\n    handleTouchEnd,\r\n    transformX,\r\n    handleMouseEnter,\r\n    handleMouseLeave,\r\n    imageSize,\r\n    previousImage,\r\n    nextImage,\r\n    handleCarrouselImageClick,\r\n    handleThumbnailClick,\r\n    closeModal,\r\n  };\r\n}\r\n"],"mappings":"uJAAA,OAASA,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CACnD,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAE/C,cAAe,SAAS,CAAAC,YAAYA,CAACC,MAAM,CAAE,CAC3C,IAAAC,SAAA,CAAkDN,QAAQ,CAAC,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtDG,iBAAiB,CAAAF,UAAA,IAAEG,oBAAoB,CAAAH,UAAA,IAC9C,IAAAI,UAAA,CAAsCX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA9CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAA8Cf,QAAQ,CAAC,IAAI,CAAC,CAAAgB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArDE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAC1C,IAAAG,UAAA,CAA4DnB,QAAQ,CAAC,CAAC,CAAC,CAAAoB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAhEE,sBAAsB,CAAAD,UAAA,IAAEE,yBAAyB,CAAAF,UAAA,IACxD,IAAAG,UAAA,CAAoCvB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAwB,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAzCE,UAAU,CAAAD,WAAA,IAAEE,aAAa,CAAAF,WAAA,IAChC,IAAAG,WAAA,CAAsC3B,QAAQ,CAAC,CAAC,CAAC,CAAA4B,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAA1CE,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAClC,IAAAG,WAAA,CAAoC/B,QAAQ,CAAC,CAAC,CAAC,CAAAgC,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAAxCE,UAAU,CAAAD,WAAA,IAAEE,aAAa,CAAAF,WAAA,IAEhC,GAAM,CAAAG,iBAAiB,CAAGlC,MAAM,CAAC,IAAI,CAAC,CACtC,GAAM,CAAAmC,qBAAqB,CAAGnC,MAAM,CAAC,IAAI,CAAC,CAE1C,QAAS,CAAAoC,SAASA,CAAA,CAAG,CACnB,GAAM,CAAAC,cAAc,CAAGH,iBAAiB,CAACI,OAAO,CAEhD,GAAI,CAACD,cAAc,CAAE,CACnB,MAAO,EAAC,CACV,CAEA,MAAO,CAAAA,cAAc,CAACE,KAAK,CAC7B,CAEA,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB/B,oBAAoB,CAAC,SAACgC,YAAY,QAChC,CAAAA,YAAY,GAAK,CAAC,CAAGrC,MAAM,CAACsC,MAAM,CAAG,CAAC,CAAGD,YAAY,CAAG,CAAC,EAC3D,CAAC,CACDpB,yBAAyB,CAAC,SAACoB,YAAY,QACrC,CAAAA,YAAY,GAAK,CAAC,CAAGrC,MAAM,CAACsC,MAAM,CAAG,CAAC,CAAGD,YAAY,CAAG,CAAC,EAC3D,CAAC,CACH,CAEA,QAAS,CAAAE,SAASA,CAAA,CAAG,CACnBlC,oBAAoB,CAAC,SAACgC,YAAY,QAChC,CAAAA,YAAY,GAAKrC,MAAM,CAACsC,MAAM,CAAG,CAAC,CAAG,CAAC,CAAGD,YAAY,CAAG,CAAC,EAC3D,CAAC,CACDpB,yBAAyB,CAAC,SAACoB,YAAY,QACrC,CAAAA,YAAY,GAAKrC,MAAM,CAACsC,MAAM,CAAG,CAAC,CAAG,CAAC,CAAGD,YAAY,CAAG,CAAC,EAC3D,CAAC,CACH,CAEA,QAAS,CAAAG,yBAAyBA,CAACC,KAAK,CAAE,CACxChC,cAAc,CAAC,IAAI,CAAC,CACpBI,kBAAkB,CAACf,YAAY,CAAC2C,KAAK,CAAC,CAAC,CACzC,CAEA,QAAS,CAAAC,oBAAoBA,CAACD,KAAK,CAAE,CACnCpC,oBAAoB,CAACoC,KAAK,CAAC,CAC3BxB,yBAAyB,CAACwB,KAAK,CAAC,CAClC,CAEA,QAAS,CAAAE,UAAUA,CAAA,CAAG,CACpBlC,cAAc,CAAC,KAAK,CAAC,CACvB,CAEA,QAAS,CAAAmC,gBAAgBA,CAACH,KAAK,CAAE,CAC/BpB,aAAa,CAACoB,KAAK,CAAC,CACtB,CAEA,QAAS,CAAAI,gBAAgBA,CAAA,CAAG,CAC1BxB,aAAa,CAAC,CAAC,CAAC,CAAC,CACnB,CAEAxB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAiD,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,CAAC,CAAK,CAChC,GAAIvC,WAAW,CAAE,CACf,GAAI,CAACuC,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,CAAE,CACrCN,UAAU,CAAC,CAAC,CACd,CACF,CACF,CAAC,CAEDO,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEL,kBAAkB,CAAC,CAE1D,MAAO,WAAM,CACXI,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC/D,CAAC,CACH,CAAC,CAAE,CAACtC,WAAW,CAAC,CAAC,CAEjB,QAAS,CAAA6C,gBAAgBA,CAACN,CAAC,CAAE,CAC3BtB,cAAc,CAACsB,CAAC,CAACO,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,CACpC1B,aAAa,CAAC,CAAC,CAAC,CAClB,CAEA,QAAS,CAAA2B,eAAeA,CAACT,CAAC,CAAE,CAC1BlB,aAAa,CAACkB,CAAC,CAACO,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAG/B,WAAW,CAAC,CACnD,CAEA,QAAS,CAAAiC,cAAcA,CAAA,CAAG,CACxB,GAAM,CAAAC,SAAS,CAAG,EAAE,CAAE;AACtB,GAAI9B,UAAU,CAAG8B,SAAS,CAAE,CAC1BtB,aAAa,CAAC,CAAC,CACjB,CAAC,IAAM,IAAIR,UAAU,CAAG,CAAC8B,SAAS,CAAE,CAClCnB,SAAS,CAAC,CAAC,CACb,CACAd,cAAc,CAAC,CAAC,CAAC,CACjBI,aAAa,CAAC,CAAC,CAAC,CAClB,CAEA,GAAM,CAAA8B,UAAU,CAAG,CAACvD,iBAAiB,CAAG4B,SAAS,CAAC,CAAC,CAAGJ,UAAU,CAEhE,MAAO,CACLxB,iBAAiB,CAAjBA,iBAAiB,CACjBI,WAAW,CAAXA,WAAW,CACXI,eAAe,CAAfA,eAAe,CACfI,sBAAsB,CAAtBA,sBAAsB,CACtBI,UAAU,CAAVA,UAAU,CACVI,WAAW,CAAXA,WAAW,CACXI,UAAU,CAAVA,UAAU,CACVE,iBAAiB,CAAjBA,iBAAiB,CACjBC,qBAAqB,CAArBA,qBAAqB,CACrBsB,gBAAgB,CAAhBA,gBAAgB,CAChBG,eAAe,CAAfA,eAAe,CACfC,cAAc,CAAdA,cAAc,CACdE,UAAU,CAAVA,UAAU,CACVf,gBAAgB,CAAhBA,gBAAgB,CAChBC,gBAAgB,CAAhBA,gBAAgB,CAChBb,SAAS,CAATA,SAAS,CACTI,aAAa,CAAbA,aAAa,CACbG,SAAS,CAATA,SAAS,CACTC,yBAAyB,CAAzBA,yBAAyB,CACzBE,oBAAoB,CAApBA,oBAAoB,CACpBC,UAAU,CAAVA,UACF,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}